<% include_javascript "scriptaculous" %>
<% include_javascript "starbox" %>
<% include_stylesheet "starbox" %>

<div class="portlet portletG" id="#{id_route_list}">
  <h2><span><%= routes_title ||= I18n.t("interface.routes.titles.default") %></span></h2>
  <% if routes.empty? -%>
    <div class="detail detail1">
      <div class="text">
        <p><%= I18n.t("interface.routes.messages.any_yet") %></p>
      </div>
    </div>
  <% else -%>
    <%= render :partial => route_partial, :collection => routes %>
  <% end -%>
</div>

<script type="text/javascript">
  //<![CDATA[
<% routes.each do |route| -%>
  <%= "new Starbox('rating_total_#{route.id}', #{route.total_rate_average}, { className: 'dotted', stars: 5, buttons: 25, locked: true });\n" %>
<% end -%>
  //]]>
</script>